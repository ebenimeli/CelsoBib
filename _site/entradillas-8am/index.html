<!DOCTYPE html>
<html lang="es-ES" data-theme="light">
	<head>
		<link rel="icon" type="image/x-icon" href="/assets/images/profile_books.ico">

		<!-- Google tag (gtag.js) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-4705752-1"></script>
		<script>
  		window.dataLayer = window.dataLayer || [];
  		function gtag(){dataLayer.push(arguments);}
  		gtag('js', new Date());

  		gtag('config', 'UA-4705752-1');
		</script>

		<!-- Script para simular nieve por Navidad -->
		<!--
			<script defer src="https://app.embed.im/snow.js"></script>
		-->
		<script async src="https://basicons.xyz/embed.js"> </script>


		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Entradillas en el blog: WP excerpt - Enrique Benimeli</title>
		<meta name="description" content="Enrique Benimeli - web personal">
		<meta name="keywords" content="informáticaWordPressprogramación8am">
		<base href="http://localhost:4000" />
		
    	<meta content="2023-09-03T07:00:00+02:00" property="article:published_time">
    	<meta content="http://localhost:4000/about/" property="article:author">
  		
		<meta property="og:site_name" content="Enrique Benimeli">
		<meta property="og:type" content="article" />
		<meta property="og:url" content="http://localhost:4000/entradillas-8am/"/>
		<meta property="og:title" content="Entradillas en el blog: WP excerpt - Enrique Benimeli" />
		<meta property="og:description" content="Enrique Benimeli - web personal" />
		<meta property="og:image" content="http://localhost:4000/assets/images/favicon.png"/>
		<meta name="twitter:card" content="summary"/>
		<meta property="twitter:title" content="Entradillas en el blog: WP excerpt - Enrique Benimeli" />
		<meta property="twitter:description" content="Enrique Benimeli - web personal" />
		<meta property="twitter:image" content="http://localhost:4000/assets/images/favicon.png" />

		<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

		<link rel="stylesheet" href="assets/css/highlight.css">
		<link rel="stylesheet" href="assets/css/style.css">
		<link rel="shortcut icon" href="assets/images/favicon.png" />
		<link rel="alternate" type="application/atom+xml" title="Enrique Benimeli" href="http://localhost:4000/atom.xml">
		<link rel="alternate" type="application/json" title="Enrique Benimeli" href="http://localhost:4000/feed.json" />
		<link rel="sitemap" type="application/xml" title="sitemap" href="http://localhost:4000/sitemap.xml" />
		<meta name="google-site-verification" content="" />
		<script type="text/javascript" async
		  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
		</script>
	</head>
<body>


<div class="container">
	<div class="profile">
		<a href="http://localhost:4000"><img src="assets/images/profile_books.jpg" class="profile-image"></a>
		<div class="profile-about">
			<h2 style="margin-bottom: 0; font-weight: 700;">Enrique Benimeli</h2>
			
				<a href="https://facebook.com/ebenimeli" target="_blank"><img src="assets/images/icon/facebook.svg" class="social-icon"></a>
			
			
				<a href="https://twitter.com/enriquebenimeli" target="_blank"><img src="assets/images/icon/twitter.svg" class="social-icon"></a>
			
			
				<a href="https://instagram.com/ebenimeli" target="_blank"><img src="assets/images/icon/instagram.svg" class="social-icon"></a>
			
			
				<a href="https://www.youtube.com/channel/UCcySEWq1InM_rbsvJY84zfQ" target="_blank"><img src="assets/images/icon/youtube.svg" class="social-icon"></a>
			
			
				<a href="https://github.com/ebenimeli" target="_blank"><img src="assets/images/icon/github.svg" class="social-icon"></a>
			
			
				<a href="https://linkedin.com/in/ebenimeli" target="_blank"><img src="assets/images/icon/linkedin.svg" class="social-icon"></a>
			
			<a href="pages/about.html"><img src="assets/images/icon/me.svg" class="social-icon"></a>
			<br>
			Informática · Educación<br/>Productividad · Lenguas
			<br>
			<div class="mode" id="mode-switcher" onclick="toggleNightMode();">
				<span></span>
			</div>
		</div>
	</div>

	<div class="navmenu">
			<a href="/">✏️</a>·
			<a href="pages/log.html">💬</a>·
			<!--<a href="pages/photo">Fotografía</a>·-->
			<!--<a href="pages/about.html">Sobre mí</a>·-->
			<!--<a href="pages/now.html">🌱</a>·-->
			<a href="pages/bookshelf.html">📚</a>·
			<!--<a href="pages/music.html">🎵</a>·-->
			<a href="pages/watchlist.html">🍿</a>·
			<a href="pages/photo.html">📷</a>· 
			<a href="pages/podcasts.html">🎧</a>·
			<a href="pages/chess.html">♖</a>·
			<a href="pages/buy.html">🛒</a>·
			<!--<a href="pages/goals.html">🏁</a>·-->
			<a href="pages/projects.html">💡</a> 
			<!--<a href="pages/thanks.html">❤️</a>--> 
			<!--
			<a href="http://www.ochoenpunto.com" target="_blank">🕗</a>·
			<a href="http://www.esferatic.com" target="_blank">👨🏻‍💻</a>
			-->
<!--			<a href="pages/me.html">🙋🏻‍♂️</a>-->

	</div>

	
<div class="post-header">
	<div class="post-date">03.09.2023</div>
	<div class="post-share">
		Share:&nbsp;
		<a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/wp-excerpt" target="_blank"><img src="assets/images/icon/facebook.svg" class="social-icon"></a>
		<a href="https://twitter.com/intent/tweet?source=tweetbutton&amp;original_referer=http://localhost:4000/wp-excerpt&amp;text=Entradillas en el blog: WP excerpt - http://localhost:4000/wp-excerpt" target="_blank"><img src="assets/images/icon/twitter.svg" class="social-icon"></a>
		<a href="https://api.whatsapp.com/send?text=http://localhost:4000/wp-excerpt" target="_blank"><img src="assets/images/icon/whatsapp.svg" class="social-icon"></a>
	</div>
</div>

<div class="blog-post-content">
	<h1>Entradillas en el blog: WP excerpt</h1>
	<p><a href="https://www.ochoenpunto.com/herramientas-metodos-y-enfoque/"><img src="assets/images/posts/2023/08/wp_post_excerpt.png" alt="image" /></a></p>

<p>Los detalles marcan la diferencia. Me gusta la idea de que los artículos de <em>Ocho en punto</em> tengan una especie de encabezamiento, como las <strong>entradillas</strong> de los artículos en los periódicos y que actúan como un resumen.</p>

<p>En WordPress se puede utilizar la función <code>the_excerpt()</code> o <code>get_the_excerpt()</code> para obtener el extracto (<em>excerpt</em>) del <em>post</em>. Este <strong>extracto</strong> es un campo especial que quien escribe puede rellenar cuando redacta el artículo. No me extrañaría, sin embargo, que alguien haya integrado ya alguna IA para hacer el resumen automáticamente.</p>

<p>El problema es que, cuando se utilizan estas funciones, se obtiene también un enlace <code>a</code> en HTML del tipo <em>Read more</em>. En este caso, no necesitamos un enlace <em>leer más</em> porque ya estamos en el propio artículo. Con un filtro y personalizando alguna función se puede lograr que no aparezca este añadido. Una solución relativamente es utilizar una <strong>expresión regular</strong> para identificar enlaces HTML de tipo:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">""</span><span class="nt">&gt;</span>...<span class="nt">&lt;/a&gt;</span></code></pre></figure>

<p>para posteriormente eliminarlos. No es probablemente la solución más elegante, pero funciona. Y si WordPress integra algún sistema de caché para las páginas, apenas debería suponer una carga. De todos modos, tarde o temprano, convendría aplicar alguna solución más adecuada.</p>

<p>Con PHP la cosa se soluciona así:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span> 
    <span class="nv">$summary</span> <span class="o">=</span> <span class="nf">get_the_excerpt</span><span class="p">();</span>
    <span class="nv">$pattern</span> <span class="o">=</span> <span class="s1">'/&lt;a\b[^&gt;]*&gt;.*?&lt;\/a&gt;/i'</span><span class="p">;</span>
    <span class="nv">$cleanSummary</span> <span class="o">=</span> <span class="nb">preg_replace</span><span class="p">(</span><span class="nv">$pattern</span><span class="p">,</span> <span class="s1">'$1'</span><span class="p">,</span> <span class="nv">$summary</span><span class="p">);</span>
    <span class="k">echo</span> <span class="s1">'&lt;p class="summary"&gt;'</span><span class="mf">.</span><span class="nv">$cleanSummary</span><span class="mf">.</span><span class="s1">'&lt;/p&gt;'</span><span class="p">;</span>
<span class="cp">?&gt;</span></code></pre></figure>

<p>Y la hoja de estilo CSS podemos personalizar el formato de la entradilla:</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">p</span><span class="nc">.summary</span> <span class="p">{</span>
    <span class="nl">font-size</span><span class="p">:</span> <span class="m">1.2em</span><span class="p">;</span>
    <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">normal</span><span class="p">;</span>
    <span class="nl">font-style</span><span class="p">:</span> <span class="nb">normal</span><span class="p">;</span>
    <span class="nl">color</span><span class="p">:</span> <span class="n">DarkSlateGray</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>De esta forma, el código HTML que teníamos <strong>antes</strong>:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"more-link-wrapper"</span><span class="nt">&gt;&lt;a</span> <span class="na">class=</span><span class="s">"more-link"</span> <span class="na">href=</span><span class="s">"https://www.ochoenpunto.com/herramientas-metodos-y-enfoque/"</span><span class="nt">&gt;</span>Seguir leyendo<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"screen-reader-text"</span><span class="nt">&gt;</span>Herramientas, métodos y enfoque<span class="nt">&lt;/span&gt;</span> <span class="nt">&lt;i</span> <span class="na">class=</span><span class="s">"fas fa-angle-right"</span><span class="nt">&gt;&lt;/i&gt;&lt;/a&gt;&lt;/div&gt;</span></code></pre></figure>

<p>Aparece así <strong>después</strong>:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"more-link-wrapper"</span><span class="nt">&gt;&lt;/div&gt;</span></code></pre></figure>

<p>Ahora queda revisar los más de 150 artículos y sus entradillas porque, como en este <em>post</em> que comparto, será necesario reducirlo en extensión y hacer un buen resumen.</p>

<p><strong>Ocho en punto</strong> · <a href="https://www.ochoenpunto.com/herramientas-metodos-y-enfoque/"><em>Herramientas, métodos y enfoque</em></a></p>

</div>
<div class="tags-container">
	
		<a href="http://localhost:4000/tags/#inform%C3%A1tica" class="post-tag">informática</a> | 
	
		<a href="http://localhost:4000/tags/#WordPress" class="post-tag">WordPress</a> | 
	
		<a href="http://localhost:4000/tags/#programaci%C3%B3n" class="post-tag">programación</a> | 
	
		<a href="http://localhost:4000/tags/#8am" class="post-tag">8am</a>
	
</div>
<div class="navigation">
	
		<a class="prev" href="/parot-serie/">< Parot</a>
	 
	<a class="next" href="/tic-vueltaalcole/">Un checklist TIC para el primer día de clase ></a>

</div>

	<div class="footer">
		<span>Jekyll Theme by <a href="https://hakan.io"><b>Hakan</b></a></span>
	</div>
</div>
	<script src="assets/js/ephesus.js"></script>
	<script type="text/javascript">
		if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
			document.documentElement.setAttribute('data-theme', 'dark');
			document.getElementById('mode-switcher').classList.add('active');
		}
	</script>

	
</body>
</html>
